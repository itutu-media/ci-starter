"use strict";function notifyMessage(message,type){$.notify({message:message},{element:"body",type:type,allow_dismiss:!0,newest_on_top:!0,placement:{from:"top",align:"center"}})}function init_select_class(){$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:BASE_URL+"/auto/class",dataType:"JSON",success:function(response){$(".select-class").append(response.data)},error:function(request,status,error){notifyMessage("Terjadi kesalahan. Coba beberapa saat lagi.","danger")}})}jQuery(document).ready((function(){$('[data-toggle="tooltip"]').tooltip(),$("#general-modal").on("hidden.bs.modal",(function(){$("#general-modal .modal-dialog").removeClass("modal-sm modal-md modal-lg"),$("#general-modal .modal-title").html(""),$("#general-modal .modal-body").html(""),$("#modal-ok-button").attr("data-action",""),$("#modal-ok-button").attr("data-nya","")})),$("#filter-modal-trigger").on({focus:function(){$(this).blur()}}),$("#kt_datatable").on("click","[data-action='delete']",(function(){var id=$(this).attr("data-nya");$("[name=isPermanent]").attr("checked",!1),$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:HOST_URL+"/detail/"+id,dataType:"JSON",success:function(response){response.status?($("#general-modal .modal-dialog").addClass("modal-md"),$("#general-modal .modal-title").html("Konfirmasi Hapus"),$("#general-modal .modal-body").html(response.detail),$("#modal-ok-button").attr("data-action","do-delete"),$("#modal-ok-button").attr("data-nya",response.data),$("#general-modal").modal("show")):notifyMessage(response.message,"danger")},error:function(request,status,error){$("#deleteModal").modal("hide"),notifyMessage("Terjadi kesalahan. Coba beberapa saat lagi.","danger")}})})),$(".modal-footer").on("click",'[data-action="do-delete"]',(function(){var id=$(this).attr("data-nya"),permanent=$("[name=isPermanent]").is(":checked");$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:HOST_URL+"/delete/"+id,dataType:"JSON",data:{permanent:permanent},success:function(response){$("#general-modal").modal("hide"),response.status?($("#detailDeleteItem").html(""),notifyMessage(response.message,"success")):notifyMessage(response.message,"danger"),$("#reload-button").click()},error:function(request,status,error){$("#general-modal").modal("hide"),notifyMessage("Terjadi kesalahan. Coba beberapa saat lagi.","danger")}})}))}));